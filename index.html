<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sacramento's Best Bites & Beats</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Warm Neutrals -->
    <!-- Application Structure Plan: The application uses a user-centric, interactive dashboard structure. The core is a filterable grid of "venue cards." This design was chosen over the report's linear format to empower users to immediately find relevant information based on their specific criteria (location, music, vibe). The user flow is: View All -> Filter -> Explore Cards -> View Details in Modal. This is more efficient and engaging than reading a static document, directly addressing the goal of making the content easily consumable and explorable. -->
    <!-- Visualization & Content Choices: Report Info: Venue list. Goal: Organize & Compare. Viz/Method: Interactive card grid with filters. Interaction: Users select filters (city, music, vibe) to dynamically update the grid. Justification: This provides a direct, task-oriented way to navigate the rich dataset. Report Info: Music type distribution. Goal: Inform. Viz/Method: Bar Chart (Chart.js). Interaction: The chart provides a quick visual overview of the music scene's composition. Justification: A simple chart adds visual context without cluttering the interface. All interactions are handled with vanilla JS, and details are shown in modals to keep the main UI clean. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FDFBF8;
            color: #4B4B4B;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
        .custom-select {
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            background-image: url('data:image/svg+xml;utf8,<svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" fill-rule="evenodd"></path></svg>');
            background-repeat: no-repeat;
            background-position: right 0.75rem center;
            background-size: 1.5em 1.5em;
            padding-right: 2.5rem;
        }
        .modal-content {
            animation: slide-up 0.3s ease-out;
        }
        @keyframes slide-up {
            from {
                transform: translateY(20px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
    </style>
</head>
<body class="antialiased">

    <header class="bg-white shadow-sm py-6">
        <div class="container mx-auto px-4 text-center">
            <h1 class="text-4xl md:text-5xl font-bold text-amber-900">Sacramento's Best Bites & Beats</h1>
            <p class="mt-2 text-lg text-gray-600">An interactive guide to Happy Hour & Live Music hotspots.</p>
        </div>
    </header>

    <main class="container mx-auto p-4 md:p-8">
        <section id="filters" class="bg-white p-4 rounded-lg shadow-md mb-8">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 items-end">
                <div>
                    <label for="city-filter" class="block text-sm font-medium text-gray-700 mb-1">City / Area</label>
                    <select id="city-filter" class="custom-select w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500">
                        <option value="all">All Areas</option>
                    </select>
                </div>
                <div>
                    <label for="music-filter" class="block text-sm font-medium text-gray-700 mb-1">Music Type</label>
                    <select id="music-filter" class="custom-select w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500">
                        <option value="all">All Music Types</option>
                    </select>
                </div>
                <div>
                    <label for="vibe-filter" class="block text-sm font-medium text-gray-700 mb-1">Vibe</label>
                    <select id="vibe-filter" class="custom-select w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500">
                        <option value="all">All Vibes</option>
                    </select>
                </div>
                <div class="flex items-center justify-center pt-4 lg:pt-0">
                    <button id="reset-filters" class="w-full bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-md transition duration-300">
                        Reset Filters
                    </button>
                </div>
            </div>
        </section>

        <section id="venue-analysis" class="mb-8">
             <div class="bg-white p-4 rounded-lg shadow-md">
                <h2 class="text-2xl font-bold text-center text-amber-800 mb-4">Music Scene Overview</h2>
                <p class="text-center text-gray-600 mb-4">This chart shows the variety of live music available across the listed venues. Use the filters above to see how the scene changes by area.</p>
                <div class="chart-container">
                    <canvas id="musicTypeChart"></canvas>
                </div>
            </div>
        </section>
        
        <section id="venue-grid-section">
             <div class="flex justify-between items-center mb-4">
                <h2 class="text-2xl font-bold text-amber-800">Featured Venues</h2>
                <div id="venue-count" class="text-lg font-medium text-gray-600"></div>
            </div>
            <div id="venue-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
            </div>
        </section>
    </main>

    <div id="venue-modal" class="fixed inset-0 bg-black bg-opacity-60 hidden items-center justify-center p-4 z-50">
        <div class="modal-content bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto">
            <div class="sticky top-0 bg-white p-4 border-b border-gray-200 flex justify-between items-center">
                <h3 id="modal-title" class="text-2xl font-bold text-amber-900"></h3>
                <button id="modal-close" class="text-gray-500 hover:text-gray-800 text-2xl">&times;</button>
            </div>
            <div id="modal-body" class="p-6">
            </div>
        </div>
    </div>

    <footer class="text-center py-6 mt-8 border-t border-gray-200">
        <p class="text-gray-500">Created from the "Sacramento's Best Bites & Beats" report.</p>
    </footer>

    <script>
        const venues = [
            { id: 1, name: "Torch Club", city: "Downtown", music: ["Blues", "Acoustic"], vibe: "Classic Blues Club", happyHour: "Tue-Sun 12PM-8PM", hhDetails: "Drink specials.", musicDetails: "Free live music during happy hour (5-7:30 PM Tue-Sun). Nightly shows at 9 PM. Features Yazutaka, Lew Fratis Trio, Acoustic Open Mic, Jimmy Pailer Band, and more.", features: "Authentic atmosphere, a cornerstone of the live music scene." },
            { id: 2, name: "Revival", city: "Downtown (DOCO)", music: ["DJ"], vibe: "Rooftop", happyHour: "Sun All Day; Mon-Fri 4-6PM", hhDetails: "$5, $7, & $9 'Sunset Sips' on Wednesdays (4-7PM). Game day specialty cocktails.", musicDetails: "Live music 7 nights a week. Pre-game DJs on Kings home game nights starting at 5 PM.", features: "Resort-like contemporary rooftop bar and lounge, overlooks Golden 1 Center." },
            { id: 3, name: "58 Degrees Restaurant & Lounge", city: "Midtown", music: ["Jazz"], vibe: "Sophisticated", happyHour: "Available", hhDetails: "Specific times and menu not detailed in report. Please verify with venue.", musicDetails: "Live Jazz Thursdays every week, starting at 7 PM.", features: "Intimate wine bar, high-quality international wine list.", caveats: "Happy hour details need direct verification." },
            { id: 4, name: "MIX Downtown", city: "Downtown", music: ["DJ"], vibe: "Rooftop Nightclub", happyHour: "Tue 6-8PM; Sun 9:30PM-12AM", hhDetails: "Taco Tuesdaze (6-8PM) with Taco Towers & Punch Bowl Margs. $7 U-Call-It specials on Sundays.", musicDetails: "Live DJs on Fridays, Saturdays, Sundays, and Tuesdays, typically starting at 9:30 PM.", features: "Premier rooftop nightclub with fire pits and city views.", caveats: "Primarily a late-night venue." },
            { id: 5, name: "Dive Bar", city: "Downtown", music: ["DJ", "Performance Art"], vibe: "Unique", happyHour: "Daily 1-6PM (drinks), 3-6PM (food)", hhDetails: "$4 shots, $8 cocktails, $5 beers, $9 food items like wings and tacos.", musicDetails: "Live DJs and world-famous Mermaid Shows nightly. Shows start at 9:30 PM on weekdays and 8:30 PM on weekends.", features: "40ft saltwater aquarium with live underwater performers (mermaids).", caveats: "Food ordered from neighboring restaurant." },
            { id: 6, name: "Flamingo House", city: "Midtown", music: ["DJ", "Themed Parties"], vibe: "Tropical", happyHour: "Daily until 8PM", hhDetails: "Extended on Sat-Sun from 2PM-8PM. Specifics not detailed.", musicDetails: "Recurring special events, themed dance parties, and Silent Disco Sundays from 9 PM to close.", features: "Vibrant tropical day-night club with a coastal-inspired menu." },
            { id: 7, name: "Prelude Kitchen & Bar", city: "Downtown", music: ["None"], vibe: "Sophisticated", happyHour: "Mon-Fri 4-6PM", hhDetails: "$7 beers, $9 wines/well drinks, $8-12 bites like truffle fries and flatbread.", musicDetails: "No live music identified in the report.", features: "Refined setting for drinks and bites.", caveats: "No live music." },
            { id: 8, name: "Iron Horse Tavern", city: "Sacramento (R St)", music: ["None"], vibe: "Lively Tavern", happyHour: "Mon-Fri 3-6PM", hhDetails: "1/2 Off Appetizers & Pizzas. $1-3 off drinks. $6 well cocktails. Game day specials for A's games.", musicDetails: "No live music identified in the report.", features: "Inspired by Sacramento's history, with reclaimed wood and a copper-topped bar.", caveats: "No live music." },
            { id: 9, name: "Sammy's Restaurant + Bar", city: "Sacramento (Antelope Rd)", music: ["Acoustic"], vibe: "Relaxed", happyHour: "Wednesdays & Industry Night", hhDetails: "Wine Wednesdays: 50% off every bottle all day. Industry Night offers perks for service workers.", musicDetails: "Relaxing acoustic music every Saturday night from 8 PM to 12 AM.", features: "Located within Stones Gambling Hall." },
            { id: 10, name: "The Almond Tree Grill & Lounge", city: "Roseville", music: ["Acoustic", "Karaoke"], vibe: "Dive Bar", happyHour: "Mon-Fri 3-6PM; Daily 12-2AM", hhDetails: "Regular and late-night happy hours available.", musicDetails: "Live acoustic band every Mon & Tue at 6 PM. Karaoke every Wed-Sun at 7 PM.", features: "Known as the 'Cheers Bar of Roseville,' features a spectacular dance floor." },
            { id: 11, name: "West House Tavern & Nightclub", city: "Roseville", music: ["Suspended"], vibe: "Historic Dive", happyHour: "Daily 2-7PM", hhDetails: "Liquor specials available throughout the week.", musicDetails: "Live music events are currently suspended due to COVID-19.", features: "Oldest bar in Placer County, has a stage for events.", caveats: "Check for updates on live music resumption." },
            { id: 12, name: "Folsom Tap House", city: "Folsom", music: ["None"], vibe: "Sports Bar", happyHour: "Mon-Fri 2-6PM", hhDetails: "Specifics not detailed.", musicDetails: "No live music identified in the report.", features: "Ultimate sports bar experience with 12 flatscreens and a 180-inch projector.", caveats: "No live music." },
            { id: 13, name: "Tonnoss SBG", city: "Folsom", music: ["None"], vibe: "Modern Grill", happyHour: "Mon-Fri 3-6PM; Daily 10PM-Close", hhDetails: "$7 cocktails, $4 pints, $5 wine, $8 starters. Weekly specials like Taco Tuesday and Wing Wednesday.", musicDetails: "No live music identified in the report.", features: "Focus on weekly specials and extended happy hours.", caveats: "No live music." },
            { id: 14, name: "Davis Wine Bar", city: "Davis", music: ["Jazz", "Blues"], vibe: "Wine Bar", happyHour: "Not Specified", hhDetails: "No specific happy hour details identified in the report.", musicDetails: "Live music every weekend, typically Jazz or Blues, featuring local musicians and UC Davis professors.", features: "Dedicated to pairing wine with live music.", caveats: "Verify happy hour details directly." },
            { id: 15, name: "Ever After Wine", city: "Elk Grove", music: ["Live Music"], vibe: "Wine Bar", happyHour: "Thursdays", hhDetails: "'Tasting Thursdays' feature an off-menu themed flight, an alternative to traditional happy hour.", musicDetails: "Live music every 1st and 3rd Sunday.", features: "Specializes in natural wines and aims to foster community." }
        ];

        const cityFilter = document.getElementById('city-filter');
        const musicFilter = document.getElementById('music-filter');
        const vibeFilter = document.getElementById('vibe-filter');
        const venueGrid = document.getElementById('venue-grid');
        const venueCount = document.getElementById('venue-count');
        const resetBtn = document.getElementById('reset-filters');
        
        const modal = document.getElementById('venue-modal');
        const modalTitle = document.getElementById('modal-title');
        const modalBody = document.getElementById('modal-body');
        const modalClose = document.getElementById('modal-close');

        let musicTypeChart;

        function populateFilters() {
            const cities = [...new Set(venues.map(v => v.city))];
            const musicTypes = [...new Set(venues.flatMap(v => v.music))].filter(m => m !== 'None' && m !== 'Suspended');
            const vibes = [...new Set(venues.map(v => v.vibe))];

            cities.sort().forEach(city => {
                const option = document.createElement('option');
                option.value = city;
                option.textContent = city;
                cityFilter.appendChild(option);
            });

            musicTypes.sort().forEach(type => {
                const option = document.createElement('option');
                option.value = type;
                option.textContent = type;
                musicFilter.appendChild(option);
            });

            vibes.sort().forEach(vibe => {
                const option = document.createElement('option');
                option.value = vibe;
                option.textContent = vibe;
                vibeFilter.appendChild(option);
            });
        }

        function createVenueCard(venue) {
            const musicIcons = {
                'Blues': 'ðŸŽ¸', 'Acoustic': 'ðŸŽ¤', 'Jazz': 'ðŸŽ·', 'DJ': 'ðŸŽ§', 'Performance Art': 'ðŸŽ­', 'Themed Parties': 'ðŸŽ‰', 'Karaoke': 'ðŸŽ¶', 'Live Music': 'ðŸŽµ', 'Suspended': 'â¸ï¸', 'None': ''
            };
            const musicTags = venue.music.map(m => `<span class="text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-amber-600 bg-amber-200 last:mr-0 mr-1">${musicIcons[m] || ''} ${m}</span>`).join('');
            
            const card = document.createElement('div');
            card.className = "bg-white rounded-lg shadow-lg overflow-hidden transform hover:-translate-y-1 transition-transform duration-300 flex flex-col";
            card.innerHTML = `
                <div class="p-5 flex-grow">
                    <div class="flex justify-between items-start">
                        <h3 class="text-xl font-bold text-gray-800 mb-2">${venue.name}</h3>
                        <span class="text-sm font-semibold text-white bg-gray-400 px-2 py-1 rounded-full">${venue.vibe}</span>
                    </div>
                    <p class="text-gray-500 mb-4">${venue.city}</p>
                    <div class="flex flex-wrap items-center mb-4">
                        ${musicTags}
                    </div>
                </div>
                <div class="p-5 bg-gray-50 border-t border-gray-100">
                    <button data-id="${venue.id}" class="details-btn w-full bg-amber-700 hover:bg-amber-800 text-white font-bold py-2 px-4 rounded-md transition duration-300">
                        View Details
                    </button>
                </div>
            `;
            return card;
        }

        function renderVenues(filteredVenues) {
            venueGrid.innerHTML = '';
            filteredVenues.forEach(venue => {
                const card = createVenueCard(venue);
                venueGrid.appendChild(card);
            });
            venueCount.textContent = `${filteredVenues.length} venue(s) found`;
            updateChart(filteredVenues);
        }

        function applyFilters() {
            const city = cityFilter.value;
            const music = musicFilter.value;
            const vibe = vibeFilter.value;

            const filtered = venues.filter(venue => {
                const cityMatch = city === 'all' || venue.city === city;
                const musicMatch = music === 'all' || venue.music.includes(music);
                const vibeMatch = vibe === 'all' || venue.vibe === vibe;
                return cityMatch && musicMatch && vibeMatch;
            });

            renderVenues(filtered);
        }

        function showModal(venueId) {
            const venue = venues.find(v => v.id === parseInt(venueId));
            if (!venue) return;

            modalTitle.textContent = venue.name;
            modalBody.innerHTML = `
                <div class="space-y-4">
                    <div>
                        <h4 class="font-semibold text-lg text-amber-800 border-b pb-1 mb-2">Location & Vibe</h4>
                        <p><span class="font-medium">City:</span> ${venue.city}</p>
                        <p><span class="font-medium">Vibe:</span> ${venue.vibe}</p>
                    </div>
                    <div>
                        <h4 class="font-semibold text-lg text-amber-800 border-b pb-1 mb-2">Happy Hour</h4>
                        <p><span class="font-medium">Times:</span> ${venue.happyHour}</p>
                        <p>${venue.hhDetails}</p>
                    </div>
                    <div>
                        <h4 class="font-semibold text-lg text-amber-800 border-b pb-1 mb-2">Live Music</h4>
                        <p>${venue.musicDetails}</p>
                    </div>
                    ${venue.features ? `
                    <div>
                        <h4 class="font-semibold text-lg text-amber-800 border-b pb-1 mb-2">Key Features</h4>
                        <p>${venue.features}</p>
                    </div>` : ''}
                    ${venue.caveats ? `
                    <div class="bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 rounded-md">
                        <p><span class="font-bold">Note:</span> ${venue.caveats}</p>
                    </div>` : ''}
                </div>
            `;
            modal.classList.remove('hidden');
            modal.classList.add('flex');
        }

        function hideModal() {
            modal.classList.add('hidden');
            modal.classList.remove('flex');
        }
        
        function updateChart(data) {
            const musicCounts = {};
            data.flatMap(v => v.music)
                .filter(m => m !== 'None' && m !== 'Suspended')
                .forEach(type => {
                    musicCounts[type] = (musicCounts[type] || 0) + 1;
                });

            const sortedMusic = Object.entries(musicCounts).sort(([,a],[,b]) => b-a);
            const labels = sortedMusic.map(item => item[0]);
            const counts = sortedMusic.map(item => item[1]);

            if (musicTypeChart) {
                musicTypeChart.data.labels = labels;
                musicTypeChart.data.datasets[0].data = counts;
                musicTypeChart.update();
            } else {
                const ctx = document.getElementById('musicTypeChart').getContext('2d');
                musicTypeChart = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: labels,
                        datasets: [{
                            label: 'Number of Venues',
                            data: counts,
                            backgroundColor: 'rgba(180, 83, 9, 0.6)',
                            borderColor: 'rgba(180, 83, 9, 1)',
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        indexAxis: 'y',
                        scales: {
                            x: {
                                beginAtZero: true,
                                ticks: {
                                    stepSize: 1
                                }
                            }
                        },
                        plugins: {
                            legend: {
                                display: false
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        return ` ${context.raw} venues`;
                                    }
                                }
                            }
                        }
                    }
                });
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            populateFilters();
            renderVenues(venues);

            cityFilter.addEventListener('change', applyFilters);
            musicFilter.addEventListener('change', applyFilters);
            vibeFilter.addEventListener('change', applyFilters);
            
            resetBtn.addEventListener('click', () => {
                cityFilter.value = 'all';
                musicFilter.value = 'all';
                vibeFilter.value = 'all';
                applyFilters();
            });

            venueGrid.addEventListener('click', (e) => {
                if (e.target.classList.contains('details-btn')) {
                    showModal(e.target.dataset.id);
                }
            });

            modalClose.addEventListener('click', hideModal);
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    hideModal();
                }
            });
        });
    </script>
</body>
</html>